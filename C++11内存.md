![image-20220718133741003](C:\Users\ewigk\AppData\Roaming\Typora\typora-user-images\image-20220718133741003.png)

- 内核空间：

  不能访问，不能分配给别的进程

- 命令行参数、环境变量

- 栈区

  {}内非malloc/new定义的变量，出了括号就自动清理了

- 堆区

  new分配空间，delete释放空间。当然也有自动释放，在进程关闭时会自动释放

- 保留区

  库用的内存

- 代码区 .text

- 全局变量区

  已初始化和未初始化分开放，静态变量也是放在全局变量区

```c++
#include <iostream>
using namespace std;

int g1;
int g2 = 0;
int g3 = 1;
int g4 = 10;

static int sg1;
static int sg2 = 0;
static int sg3 = 1;
static int sg4 = 10;

void func01()
{
    static int jsg1 = 10;
    cout << "初始化为10局部静态变量位置&jsg1 = " << &jsg1 << endl;
}

int main()
{
    cout << "main = " << main << endl; 
    cout << "-------------------------------\n";

    cout << "未初始化全局变量&g1 = " << &g1 << endl;
    cout << "初始化为0全局变量&g2 = " << &g2 << endl;
    cout << "初始化为1全局变量&g3 = " << &g3 << endl;
    cout << "初始化为10全部变量&g1 = " << &g4 << endl;
    cout << "-------------------------------\n";

    cout << "未初始化静态全局变量&sg1 = " << &sg1 << endl;
    cout << "初始化为0静态全局变量&sg2 = " << &sg2 << endl;
    cout << "初始化为1静态全局变量&sg3 = " << &sg3 << endl;
    cout << "初始化为10静态全局变量&sg4 = " << &sg4 << endl;
    cout << "-------------------------------\n";

    int* p1 = new int;
    int* p2 = new int(0);
    int* p3 = new int(1);
    int* p4 = new int(10);

    cout << "未初始化堆区变量p1 = " << p1 << endl;
    cout << "初始化为0堆区变量p1 = " << p2 << endl;
    cout << "初始化为1堆区变量p1 = " << p3 << endl;
    cout << "初始化为10堆区变量p1 = " << p4 << endl;
    cout << "-------------------------------\n";

    cout << "栈区指针&p1 = " << &p1 << endl;
    cout << "栈区指针&p2 = " << &p2 << endl;
    cout << "栈区指针&p3 = " << &p3 << endl;
    cout << "栈区指针&p4 = " << &p4 << endl;
    cout << "-------------------------------\n";
    
    func01();

    return 0;
}
/*
output:
	main = 1
	-------------------------------
	未初始化全局变量&g1 = 0x406034
	初始化为0全局变量&g2 = 0x406038		//未初始化和初始化为0的全局变量的存放位置连续
	初始化为1全局变量&g3 = 0x403008
	初始化为10全部变量&g1 = 0x40300c	//初始化非0的全局变量存放位置连续
	-------------------------------
	未初始化静态全局变量&sg1 = 0x406040
	初始化为0静态全局变量&sg2 = 0x406044		//静态成员变量的存放位置与全局变量的存放连续
	初始化为1静态全局变量&sg3 = 0x403010
	初始化为10静态全局变量&sg4 = 0x403014
	-------------------------------
	未初始化堆区变量p1 = 0x1141a78
	初始化为0堆区变量p1 = 0x1141a98
	初始化为1堆区变量p1 = 0x1141ab8		//每个堆区变量的位置之间有16个字节，但是变量本身只有4个字节
	初始化为10堆区变量p1 = 0x1141ad8
	-------------------------------
	栈区指针&p1 = 0x62febc
	栈区指针&p2 = 0x62feb8
	栈区指针&p3 = 0x62feb4		//栈区相同类型变量存放位置连续
	栈区指针&p4 = 0x62feb0
	-------------------------------
	初始化为10局部静态变量位置&jsg1 = 0x403018		//局部静态变量的位置和全局静态变量的位置连续
*/
```

